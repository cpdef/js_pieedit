<!DOCTYPE html>
<html>
<head>
</head>
<body>
    <table>
      <tr style="vertical-align:top">
        <td>
          <textarea id="input" name="input" rows="400" cols="100"></textarea>
        </td>
        <td>
          <canvas id="cnv" width="800" height="600"></canvas>
          </br>
          <button onclick="reload_pie();displayTexture();">
            reload
          </button>
          </br>
          select texture:
          </br>
          <input type="radio" name="texture" value="File"> from file
          <input type=file name=filename id=file> </br>
          <input type="radio" name="texture" value="Github" checked="checked"> from github texpages </br>
          <input type="radio" name="texture" value="URL"> from URL <input type="text" id="texture_URL" value="https://raw.githubusercontent.com/Warzone2100/data-texpages/15167b5a6b4e432feacaec987c744afca92da749/page-10-laboratories.png"> </br>
          <button type=button onclick='draw_2d_polys()'>draw polys on texture</button>
          <canvas id="cnv-texture" width="1024" height="1024"></canvas>
        </td>
      </tr>
    </table>
    <script type="text/javascript">
      // all global vars here initialized:
      window.LEVELS = [{points:[], polygons: []}];
      window.PIE = 3;
      window.TEXTURE = ""
    </script>
    <script type="text/javascript" src="engine.js"></script>
    <script type="text/javascript" src="pieload.js"></script>
    <script type="text/javascript" src="loadTexture.js"></script>
    <script type="text/javascript">
      // init display
      var client = new XMLHttpRequest();
      client.open('GET', 'https://raw.githubusercontent.com/cpdef/js_pieedit/master/default.pie');
      client.onreadystatechange = function() {
        var textInput = document.getElementById('input');
        textInput.value = client.responseText;
        reload_pie();
        displayTexture(true);
      }
      client.send();
      console.log("init finished");
    </script>

</body></html>
